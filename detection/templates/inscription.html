<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/inscription.css' %}"> 
    <style>
        .btn-return {
            background-color: #ff4c4c; /* Rouge pour indiquer une action d'annulation */
            color: white;
            border: none;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 10px 2px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .btn-return:hover {
            background-color: #ff1a1a; 
        }
    </style>
    <title>Inscription</title>
</head>
<body>
    <div class="container">
        <div class="title">Inscription</div> 
        <div class="content"> 
            <form method="POST" id="user" action="{% url 'inscription' %}" onsubmit="return validateForm()"> 
                {% csrf_token %}
                <div class="user-details"> 
                    <div class="input-box">
                        <span class="details">Nom d'utilisateur</span> 
                        <input type="text" placeholder="Entrer votre nom d'utilisateur" id="username" name="username" required>
                    </div>
                    <div class="input-box">
                        <span class="details">Nom & Pr√©nom</span> 
                        <input type="text" placeholder="Entrer votre nom" id="nom" name="nomprenom" required>
                    </div>
                    <div class="input-box">
                        <span class="details">Mot de passe</span>
                        <input type="password" placeholder="Entrer votre mot de passe" id="mdp" name="mdp" required>
                    </div>
                    <div class="input-box">
                        <span class="details">Confirmez le mot de passe</span>
                        <input type="password" placeholder="Confirmer votre mot de passe" id="confirmer_mdp" name="confirmer_mdp" required>
                    </div>
                </div>
                <div class="button"> 
                    <input type="submit" value="S'inscrire">
                </div>
            </form>
            <div class="button">
                <button class="btn-return" onclick="window.location.href='{% url 'connexion' %}'">Annuler l'inscription</button>
            </div>
            {% if error %}
            <p style="color: red;">{{ error }}</p>
            {% endif %}
        </div>
    </div>
    
    <script>
        function validateForm() {
            var mdp = document.getElementById('mdp').value;
            var confirmer_mdp = document.getElementById('confirmer_mdp').value;

            if (mdp !== confirmer_mdp) {
                alert('Les mots de passe ne correspondent pas.');
                return false;
            }

            return true;
        }
    </script>
</body>
</html>
